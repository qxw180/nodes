# 开发环境搭建

## 服务端自动刷新

[nodemon](https://github.com/remy/nodemon#nodemon)监听文件和目录的修改，然后重启node程序；
nodemon是对node的包装，在使用的时候只需要使用`nodemon`命令替换`node`命令。
使用：`nodemon [your app code]`

## 环境配置 NODE_ENV

后端项目开发过程中，经常会涉及到一些敏感信息，例如数据库密码、第三方服务秘钥等。
这些敏感信息不宜硬编码到项目中，通常将这些信息以环境变量的形式进行管理。

NODE_EVN是一个环境变量，因为Express框架而流行，形成的非标准既定规范，用来配置程序的运行环境；
Node程序在运行的过程中可以使用NODE_EVN环境变量判断运行环境来做相应的处理逻辑；
按照惯例NODE_EVN用来指导运行环境到底是开发环境还是生产环境，跟进不同的环境进行不同的日志记录、错误处理和调试逻辑；
按照约定NODE_EVN只能为`production`或`development`这两个值。

+ NODE_EVN获取：
  + `var environment = process.env.NODE_ENV`
  + 在Express中可以使用：`app.get('env')`
+ NODE_EVN设置：
  + 系统环境变量中默认未设置NODE_EVN值为`undefined`
  + linux & mac: `export NODE_ENV=production`
  + windows: `set NODE_ENV=production`
+ 使用`cross-env`可以兼容不同平台设置环境变量
  + 在NODE_ENV=xxxxxxx前面添加cross-env：`cross-env NODE_ENV=development nodemon index.js`
