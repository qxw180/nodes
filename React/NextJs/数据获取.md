#数据获取

可以使用`getInitialProps`进行页面的数据初始化
`getInitialProps`是一个静态异步函数，返回值会作为页面组件的`props`填充到组件。
`getInitialProps`返回值必须是一个pain object，因为在服务端渲染要进行类似`JSON.stringfy`的操作，所以不能保护Map、Date等数据类型。
注意`getInitialProps`只能应用在pages目录下的组件中，不能应用于子组件中，例如在Layout Compnent中使用`getInitialProps`不会执行。

```
import React from 'react'

export default class extends React.Component {
  static async getInitialProps({ req }) {
    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent
    return { userAgent }
  }

  render() {
    return (
      <div>
        Hello World {this.props.userAgent}
      </div>
    )
  }
}
```

##API:getInitialProps
+ `pathname`: path section of URL
+ `query`: query string section of URL parsed as an object
+ `asPath`: String of the actual path (including the query) shows in the browser
+ `req`: HTTP request object (server only)
+ `res`: HTTP response object (server only)
+ `jsonPageRes`: Fetch Response object (client only)
+ `err`: Error object if any error is encountered during the rendering
