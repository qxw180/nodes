# Yeoman
> 用来在项目立项阶段生成项目代码结构和自动构建工具；

##基本使用
> Yoman本身并不能生成项目结构，项目结构是通过Generator来生成的，Yoman是Generator的运行环境；
> Yoman和Generator都是NPM包
> Generator是一个以`generator-`开头的NPM包，[Yoman官网](http://yeoman.io/generators/)提供了Generator的搜索服务，并且按照可以根据Star数和Install数量排序；

+ Step1：安装Yoman `npm install -g yo`
+ Step2：安装Generator `npm install -g <generator-name>`
+ Step3：使用Generator `yo <generator-name>`


##创建Generator

Generator是Yeoman生态系统的构建模块，通过使用`yo`命令运行。

一、项目初始化

+ Step1：创建一个`generator-name`格式的目录，name为你为插件起得名字，目录必须以`generator-`开头，因为Yeoman依赖文件系统查找可以使用的Generator；
+ Step2：使用`npm init`命令初始化项目，生成`package.json`，以下几个字段需要注意
	* 在`name`属性的值必须以`generator-`开头；
	* `keywords`属性必须包含`yeoman-generator`;
	* 安装最新版本的`yeoman-generator` `npm install --save yeoman-generator`
	* 添加`files`字段，值必须为一个数组类型，包含的值为generator使用的文件或目录

例子：`package.json`

	{
	  "name": "generator-name",
	  "version": "0.1.0",
	  "description": "",
	  "files": [
	    "generators"
	  ],
	  "keywords": ["yeoman-generator"],
	  "dependencies": {
	    "yeoman-generator": "^1.0.0"
	  }
	}

二、项目目录结构组织

Yeoman深度关联文件系统，每一个sub-generator都有自己单独的目录
使用`yo name`运行generator时默认使用`app`目录
使用`yo name:subcommand`运行对应子目录


Yeoman支持两种不同的目录结构：使用`./`和`generators/`注册可用的generators；
 
常用的`generators/`模式目录结构
	
	├───package.json
	└───generators/
	    ├───app/
	    │   └───index.js
	    └───router/
	        └───index.js

`./`模式目录结构


	├───package.json
	├───app/
	│   └───index.js
	└───router/
	    └───index.js

使用这种模式`package.json`的`files`字段需要如下方式配置

	{
	  	"files": [
	    	"app",
	    	"router"
	  	]
	}

三、实现generator
基础Yeoman提供的基础generator，重写`constructor`；
在generator 类中定义的方法都会顺序执行，有一些特定名称的方法除外。

	var Generator = require('yeoman-generator');
	
	module.exports = class extends Generator {
	  
	 	constructor(args, opts) {
	    
	    	super(args, opts);

	    	this.option('babel'); // This method adds support for a `--babel` flag
	  	}

	  	method1() {
	  		this.log('method 1 just ran');
	  	}

	  	method2() {
	  		this.log('method 2 just ran');
	  	}
	};

	module.exports = class extends Generator {};

四、运行generator
在工程根目录下使用`npm link`命令添加到全局npm 模块，使用`yo name`运行；