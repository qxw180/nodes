# React 代码分隔和动态加载

## 代码分割

延迟(按需)加载代码，避免初始化代码体积过大

webpack 在解析代码的时候遇到`import()`会自动进行代码分割，改特效在 Create React App 和 Next.js 中都已经默认配置，如果是自己配置的 Webpack 项目需要安装[Code Splitting](https://webpack.js.org/guides/code-splitting/)进行配置。

```js
import("./math").then((math) => {
  console.log(math.add(16, 26));
});
```

React.lazy

```js
import React, { Suspense } from "react";
import MyErrorBoundary from "./MyErrorBoundary";

const OtherComponent = React.lazy(() => import("./OtherComponent"));
const AnotherComponent = React.lazy(() => import("./AnotherComponent"));

const MyComponent = () => (
  <div>
    <MyErrorBoundary>
      <Suspense fallback={<div>Loading...</div>}>
        <section>
          <OtherComponent />
          <AnotherComponent />
        </section>
      </Suspense>
    </MyErrorBoundary>
  </div>
);
```
