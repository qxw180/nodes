# TypeScript 对象

TS 主要有以下三种实现方式定义对象类型：

1. 匿名
2. interface declaration：
3. type alias：为某类型起一个别名

## interfaces(接口)

interface 是用来描述对象的 shape，可以使用`readonly`和`?`对属性进行修饰，表示属性是只读或可选的。

```TypeScript
interface Person {
    readonly id: number; // 只读类型
    name: string;
}

// 重复使用interface可实现extends
interface Person {
    age?: number; // 可选属性
    [propName: string]: any; // 任意属性，
}

let tom: Person = {
    name: 'Tom',
    age: 25，
    gender: 'male'
};
```

在某些情况下我们并不知道对象的全部属性，这是我们可以使用**索引签名**定义：
索引签名的 key 值必须是`number`或者`string`类型

```TypeScript
interface StringArray {
  [index: number]: string;
}
```

### type aliases(类型别名)

可以使用`type`关键字给一个类型起一个新的名字，可以是任意类型(对象、数组、联合类型等等)
应用场景：字符串字面量类型，用来约束字符串变量只能为固定的值

```TypeScript
// 为联合类型命名
type ID = number | string;

// 为对象命名
type Person = {
    id: ID;
    name: string;
}

// 为某些具体值，设置别名。

// 应用场景一：约束监听事件类型
type EventNames = 'click' | 'scroll' | 'mousemove';
function handleEvent(ele: Element, event: EventNames) {
    // do something
}

handleEvent(document.getElementById('hello'), 'scroll');  // 没问题
handleEvent(document.getElementById('world'), 'dbclick'); // 报错，event 不能为 'dbclick'
```

### 区别&选择

这两种方式都可以用来进行 shape 描述，TS 推荐优先使用 interfaces 因为 interfaces 有更好的错题提示

interfaces 的所有特性几乎都可以使用 type aliases 实现，主要区别是 type aliases 是不能被 re-open 进行属性修改，interfaces 可以通过`extends`实现继承，另外重复的 interface 声明会自定继承。

```TypeScript
// 接口继承
interface Student extends Person {
    class: string;
}

// 别名实现继承：使用交叉类(&)型变相实现
type Bear = Animal & {
    honey: boolean
}
```
